% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/s3-link_fns-class.R
\name{as.link_fns.character}
\alias{as.link_fns.character}
\alias{as.link_fns.dist_fns}
\alias{as.link_fns.family}
\alias{as.link_fns.numeric}
\alias{as.link_fns}
\title{Create a \code{link_fns} S3 object}
\usage{
\method{as.link_fns}{character}(x, ...)

\method{as.link_fns}{dist_fns}(x, ...)

\method{as.link_fns}{family}(x, ...)

\method{as.link_fns}{numeric}(x, ..., na.rm = TRUE)

as.link_fns(x, ...)
}
\arguments{
\item{x}{a range of values that for the support}

\item{...}{ignored}

\item{na.rm}{remove NAs when estimating mean and sd for data driven link
functions}
}
\value{
a \code{link_fns} S3 object
}
\description{
The link function class allows forwards and backwards transformation.
Link functions can be defined by name or using a statistical distribution
in which case the forward link is a logit of the cumulative probability
and the reverse is the quantile of the expit.
}
\details{
A \code{link_fns} S3 object encapsulates a monotonic transformation function
\eqn{h}, its inverse \eqn{h^{-1}}, and their derivatives \eqn{h'} and
\eqn{(h^{-1})'}. It also defines the support (domain) \eqn{[a, b]} of the
original space and the range \eqn{[h(a), h(b)]} of the transformed space.

The function dispatches based on the input \code{x}:
\itemize{
\item \code{character}: Selects standard links (e.g., "log", "logit", "probit", "identity").
For example, "log" defines \eqn{h(x) = \log(x)} with support \eqn{(0, \infty)}.
\item \code{dist_fns}: Defines the link as the logit of the CDF and the quantile of the expit:
\eqn{h(x) = \text{logit}(F(x))}, \eqn{h^{-1}(z) = F^{-1}(\text{expit}(z))},
where \eqn{F} and \eqn{F^{-1}} are the CDF and quantile functions from the \code{dist_fns} object.
The support is determined by the quantile function's range (e.g., \eqn{[Q(0), Q(1)]}).
\item \code{family} (from \code{stats}): Uses the link function and its inverse from the GLM family object.
\item \code{numeric}: If length 2, interprets as a support range \eqn{[a, b]} and creates a logit-like
transformation mapping this range to \eqn{(-\infty, \infty)}: \eqn{h(x) = \text{logit}(\frac{x-a}{b-a})}.
If all values are finite and length > 2, creates a standardization link: \eqn{h(x) = \frac{x-\mu}{\sigma}},
where \eqn{\mu} and \eqn{\sigma} are the mean and standard deviation of the input vector.
}
}
\section{Methods (by class)}{
\itemize{
\item \code{as.link_fns(character)}: Link function from name

\item \code{as.link_fns(dist_fns)}: Link function from name

\item \code{as.link_fns(family)}: Link function from name

\item \code{as.link_fns(numeric)}: Link function from support vector

}}
\concept{link_fns_s3}

\section{Unit tests}{
\if{html}{\out{<div class="sourceCode">}}\preformatted{

links = c("ident", "log", "logit", "probit", "cloglog", "neginv", "inv2")
test = seq(0.1,0.9,0.1) # within support of all links
for (l in links) {
  lfn = as.link_fns(l)
  t = lfn$trans(test)
  i = lfn$inv(t)
  testthat::expect_equal(i,test)
}
}\if{html}{\out{</div>}}
}

